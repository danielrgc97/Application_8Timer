<ion-header no-border>
  <ion-toolbar color="primary">
    <ion-button slot="start" fill="clear" >
      <ion-menu-button color="light"></ion-menu-button>
    </ion-button>
    <ion-title mode=ios>
      <ion-icon class="topIcon" src="../../assets/icon/white-over-black.svg"> </ion-icon>
    </ion-title>
  </ion-toolbar>
</ion-header>


<ion-content class="getstart">
  <div cdkDropList class="list" (cdkDropListDropped)="drop($event)">
    <!-- Lista con 2 tipos elementos -->
    <div *ngFor="let c of cajas;let i = index; let last = last" class="{{c.type}}" cdkDrag [cdkDragStartDelay]="300" >

      <!-- Tipo cajas activadas -->
      <div *ngIf="c.type==='timer'"> 
        <ion-icon *ngIf="c.circuitState === 3 && c.circuitPos === 2" class="circuitIcon" src="../../assets/icon/circuit-mostaza/alone.svg"></ion-icon>
        <ion-icon *ngIf="c.circuitState === 1" class="circuitIcon" src="../../assets/icon/circuit-mostaza/start.svg"></ion-icon>
        <ion-icon *ngIf="c.circuitState === 2" class="circuitIcon" src="../../assets/icon/circuit-mostaza/middle.svg"></ion-icon>
        <ion-icon *ngIf="c.circuitState === 3 && c.circuitPos !== 2" class="circuitIcon" src="../../assets/icon/circuit-mostaza/end.svg"></ion-icon>
        <div class = "name"> {{c.timerName}}</div>
        <div class = "time" >{{c.displayString}}</div>
        <ion-button class="buttonCajaTimerEdit" size="small" fill="clear" (click)="editCajaTimerAlert(i)"></ion-button>
        <div class = "buttons">
          <ion-button color="dark" fill="clear" size="small" (click)="playpause(i)"><ion-icon class="caja-buttons" [name]="c.counting===false ? 'play-outline' : 'pause-outline'"></ion-icon></ion-button>
          <ion-button color="dark" fill="clear" size="small" (click)="reset(i)"><ion-icon class="caja-buttons" name="refresh-outline"></ion-icon></ion-button>
        </div>
      </div>

      <!-- Tipo circuito activado -->
      <div *ngIf="c.type==='circuit'">
        <span class="circuitNombre" >{{c.circuitName}}</span>
        <span class="circuitLaps"> x {{c.circuitLaps}} Laps </span>
        <ion-button class="buttonCajaCircuitEdit" fill="clear" (click)="editCajaCircuitAlert(i)"></ion-button>
        <ion-button class='flechaCircuit' fill="clear" size="small" (click)="flechaChange(i)"><ion-icon color="light" [name]="c.circuitState===10 ? 'chevron-forward-outline' : 'chevron-down-outline'"></ion-icon></ion-button>
      </div>

    <!--  -->
    </div>
  </div>

  








  <!-- Boton para aÃ±adir temporizadores y ciclos -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button id="btn" color="secondary"><ion-icon name="add" color="primary"></ion-icon></ion-fab-button>
    <ion-fab-list side="top">
      <ion-fab-button color="secondary" (click)="createCajaCircuitAlert()" data-desc="Circuit with laps"><ion-icon name="flag" color="primary"></ion-icon></ion-fab-button>
      <ion-fab-button color="secondary" (click)="createCajaTimerAlert()" data-desc="Timer"><ion-icon name="hourglass-outline" color="primary"></ion-icon></ion-fab-button>
    </ion-fab-list>
  </ion-fab> 

</ion-content>
